{% extends ':BackBundle/Layout:admin.html.twig' %}

{% block title %} - {{ parcours.libelle }}{% endblock %}

{% block admin_body %}
    {% for message in app.session.flashbag.get('success') %}
        <div class="alert alert-success alert-dismissible">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
            <h4><i class="icon fa fa-check"></i>Information</h4>
            {{ message }}
        </div>
    {% endfor %}
    <div class="content-wrapper">
        <section class="content">
            <div class="row">
                <div class="col-md-12">
                    <div class="box box-primary">
                        <div class="box-body box-profile">
                            <h3 class="profile-username text-center"><p>{{ parcours.libelle }}</p></h3>
                            <ul class="list-group list-group-unbordered">
                                <li class="list-group-item">
                                    <b>Nombre d'élève ayant choisi ce parcours</b> <a class="pull-right">{{ parcours.suivi|length }}</a>
                                </li>
                                <li class="list-group-item">
                                    <b>Diplôme : </b> <p class="pull-right">{{ parcours.diplome }}</p>
                                </li>
                                <li class="list-group-item">
                                    <b>Résumé :</b>
                                    <p class="pull-right"></p>
                                </li>
                                <li class="list-group-item">
                                    <b>Technologies utilisées :</b>
                                    <p class="pull-right"></p>
                                </li>
                                <li class="list-group-item">
                                    <b>Abonnement requis :</b>
                                    <p class="pull-right">{{ parcours.abonnement.libelle }}</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="box box-primary">
                        <div class="box-body box-profile">
                            <h3 class="profile-username text-center"><p>Liste des cours</p></h3>
                            <div class="table-responsive">
                                <table class="table no-margin">
                                    <thead>
                                    <tr>
                                        <th>Intitulé du cours</th>
                                        <th>Durée</th>
                                        <th>Modifier</th>
                                        <th>Supprimer</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for cours in parcours.cours %}
                                        <tr>
                                            <td>
                                                {{ cours.libelle }}
                                            </td>
                                            <td>
                                                {{ cours.duree }}
                                            </td>
                                            <td>
                                                <a href="{{ path('update_courses', {'id': cours.id}) }}"><span class="ion ion-wrench"></span></a>
                                            </td>
                                            <td>
                                                <a href="#"><span class="ion ion-trash-b"></span></a>
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                            <hr />
                            <a href="#" data-toggle="modal" data-target="#myModalCours" class="btn btn-warning btn-block"><b>Ajouter un cours</b></a>
                        </div>
                    </div>
                    <div class="box box-primary">
                        <div class="box-body box-profile">
                            <h3 class="profile-username text-center"><p>Liste des projets</p></h3>
                            <div class="table-responsive">
                                <table class="table no-margin">
                                    <thead>
                                    <tr>
                                        <th>Intitulé du projets</th>
                                        <th>Durée</th>
                                        <th>Compétences</th>
                                        <th>Modifier</th>
                                        <th>Supprimer</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for projets in parcours.projet %}
                                        <tr>
                                            <td>
                                                {{ projets.libelle }}
                                            </td>
                                            <td>
                                                {{ projets.duree }}
                                            </td>
                                            <td>
                                                <ul>
                                                {% for competences in projets.competences %}
                                                    <li> <a href="{{ path('update_competences', {'id': competences.id}) }}">{{ competences.libelle }}</a></li>
                                                {% endfor %}
                                                </ul>
                                            </td>
                                            <td>
                                                <a href="{{ path('update_project', {'id': projets.id}) }}"><span class="ion ion-wrench"></span></a>
                                            </td>
                                            <td>
                                                <a href="#"><span class="ion ion-trash-b"></span></a>
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                            <hr />
                            <a href="#" data-toggle="modal" data-target="#myModalProjet" class="btn btn-warning btn-block"><b>Ajouter un projet</b></a>
                            <a href="#" data-toggle="modal" data-target="#myModalCompetences" class="btn btn-warning btn-block"><b>Ajouter des compétences</b></a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    {% include ':Form:register_cours.html.twig' %}

    {% include ':Form:register_project.html.twig' %}

    {% include ':Form:register_competences.html.twig' %}

{% endblock %}